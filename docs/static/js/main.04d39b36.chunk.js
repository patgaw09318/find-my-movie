(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,n){},114:function(e,t,n){e.exports=n(261)},119:function(e,t,n){},261:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),i=n(22),r=n.n(i),l=(n(119),n(20)),s=n.n(l),c=n(37),u=n(27),g=n(38),p=n(42),m=n(39),d=n(43),h=(n(122),n(123),n(77)),v=n(75),b=n.n(v),f={language:{polish:"pl-PL",english:"en-US"},movieApi:{default:{movieId:"299534",language:"en-US"},urls:{searchMovie:"https://api.themoviedb.org/3/search/movie",getMovieUrl:"https://api.themoviedb.org/3/movie",poster:"https://image.tmdb.org/t/p/w500/"},authorization:{apiKey:"d0a661c7bf34b34b6c187d531c56b797"}},application:{repositoryUrl:"https://github.com/patgaw09318/find-my-movie",repositoryImage:"images/github-logo.png",linkedInUrl:"https://www.linkedin.com/in/patryk-gawryszewski1993/",linkedInImage:"images/linkedIn-logo.png",mailAddress:"patgaw09318@gmail.com",mailImage:"images/mail-logo.png",movieDbImage:"images/movieDb-logo.svg",movieDbUrl:"https://www.themoviedb.org/",closeIcon:"images/close-icon.png",mobileMenuIcon:"images/mobile-menu-icon.png"}},y=f.movieApi.authorization.apiKey,E=f.movieApi.urls.searchMovie,w=f.movieApi.urls.getMovieUrl,O=function e(){Object(u.a)(this,e),this.searchMovie=function(){var e=Object(c.a)(s.a.mark(function e(t,n){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(E,{params:{api_key:y,include_adult:!0,page:1,language:n,query:t}});case 2:if(!(a=e.sent).error){e.next=6;break}return console.log(a.error),e.abrupt("return",null);case 6:return e.abrupt("return",a.data);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),this.getMovie=function(){var e=Object(c.a)(s.a.mark(function e(t,n){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(w,"/").concat(t),{params:{api_key:y,language:n}});case 2:if(!(a=e.sent).error){e.next=6;break}return console.log(a.error),e.abrupt("return",null);case 6:return e.abrupt("return",a.data);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},k={App:{top:{position:"fixed",width:"100%",top:"0em",zIndex:"10"}},Search:{SearchBar:{width:"50%",position:"center",marginLeft:"25%",marginTop:"10%"}},Navbar:{main:{width:"100%",padding:"1%"},languageButton:{float:"right",marginRight:"1em",marginTop:"0.5%"},title:{color:["#222",!0],padding:"2%"}},MovieContainer:{main:{margin:"3%",color:"white"},title:{color:"green"},subTitle:{padding:"1%",color:"grey"},poster:{height:"50%",width:"50%",borderRadius:"1.6em"},body:{padding:"1%"},value:{color:"#28a745"},productionImage:{width:"30%",display:"initial",padding:"1em"},productionText:{display:"inline",padding:"1em"}},PopoverButton:{main:{marginTop:".4em"},exit:{position:"top",color:["#fff",!0],fontWeight:["300",!0],float:"right"},header:{backgroundColor:"#28a745",width:"100%"},popoverBody:{width:"16em"},popoverButton:{width:"5em",backgroundColor:"#28a745",color:"#222"},popoverOpen:{backgroundColor:"#222",color:"#28a745"},btnEnglish:{borderColor:"#222",width:"45%",marginRight:"5%"},btnPolish:{borderColor:"#222",width:"45%"}},Footer:{main:{color:"white",width:"100%",textAlign:"center",fontSize:".8em"},image:{width:"2%",height:"2%"},bar:{display:"inline",width:"2%",height:"2%",margin:".8em"},text:{color:"grey"}}},M=n(78),B={english:{translation:{Popularity:"Popularity",OriginalTitle:"Original title",Polish:"Polish",English:"English",SelectLanguage:"Select language",ChooseMovie:"Choose a movie...",ReleaseDate:"Release date",Runtime:"Runtime",Revenue:"Revenue",Vote_average_count:"Vote/Count",Budget:"Budget",NoDescription:"No description"}},polish:{translation:{Popularity:"Popularno\u015b\u0107",OriginalTitle:"Tytu\u0142 orginalny",Polish:"Polski",English:"Angielski",SelectLanguage:"Wybierz j\u0119zyk",ChooseMovie:"Wybierz film...",ReleaseDate:"Data wydania",Runtime:"Czas trwania",Revenue:"Doch\xf3d",Vote_average_count:"Ocena/Liczba g\u0142os\xf3w",Budget:"Bud\u017cet",NoDescription:"Brak opisu"}}};M.a.init({lng:"english",resources:B});var C=M.a,S=Object(h.b)(h.a),j=k.Search,I=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(m.a)(t).call(this)))._handleSearch=function(t){e.setState({isLoading:!0}),e.makeAndHandleRequest(t)},e.makeAndHandleRequest=function(){var t=Object(c.a)(s.a.mark(function t(n){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.searchMovie(n,e.props.language);case 2:a=t.sent,e.setState({isLoading:!1,options:a.results.map(function(e){return e.title}),movies:a.results});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.state={allowNew:!1,isLoading:!1,multiple:!1,options:[],movies:[]},e.api=new O,e}return Object(d.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"search-main",style:j.SearchBar},o.a.createElement(S,{className:"searchBar",ref:"typeahead",isLoading:this.state.isLoading,id:"search",minLength:3,placeholder:C.t("ChooseMovie"),onSearch:this._handleSearch,options:this.state.options,onChange:function(t){var n=e.state.movies.find(function(e){return e.title===t[0]});e.props.handleOnChange(n)},useCache:!0})),o.a.createElement("img",{className:"imgExit mobileShow desktopHide",src:f.application.closeIcon,alt:"close button",onClick:function(){return e.refs.typeahead.getInstance().clear()}}))}}]),t}(a.Component),L=n(46),P=n(6),x=n(263),N=n(266),T=n(264),_=n(265),D=(n(103),k.PopoverButton),R=f.language.polish,A=f.language.english,U=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).Translation=n.props.Translation,n.getLanguageButtonStyle=function(e){return e===n.props.language?{backgroundColor:"#222",color:"white"}:{backgroundColor:"#28a745"}},n.getEnglishButton=function(){return o.a.createElement("button",{className:"btn btnEnglish",style:Object(L.a)({},n.getLanguageButtonStyle(A),D.btnEnglish),onClick:function(){return n.props.handleChangeLanguage(A)}},n.Translation.t("English"))},n.getPolishButton=function(){return o.a.createElement("button",{className:"btn btnPolish",style:Object(L.a)({},n.getLanguageButtonStyle(R),D.btnPolish),onClick:function(){return n.props.handleChangeLanguage(R)}},n.Translation.t("Polish"))},n.getLanguageButtons=function(){return o.a.createElement(o.a.Fragment,null,n.getEnglishButton(),n.getPolishButton())},n.getPopoverButton=function(){return o.a.createElement(x.a,{style:Object(L.a)({},D.popoverButton,n.state.popoverOpen&&D.popoverOpen),id:"PopoverButton",className:"PopoverButton mobileHide",type:"button"},n.props.language===A?n.Translation.t("English"):n.Translation.t("Polish"))},n.getMobilePopoverButton=function(){return o.a.createElement("div",{className:"mobileShow desktopHide",onClick:function(){return n.setState({popoverOpen:n.state.popoverOpen,mobileMenuOpen:!n.state.mobileMenuOpen})}},o.a.createElement("img",{className:"mobileMenuImage",alt:"menu",src:f.application.mobileMenuIcon}))},n.getMobileMenu=function(){return n.state.mobileMenuOpen&&o.a.createElement("div",{className:"mobileMenu mobileShow desktopHide"},n.getLanguageButtons(),o.a.createElement("img",{src:f.application.closeIcon,alt:"close button",onClick:function(){n.state.mobileMenuOpen&&n.setState({popoverOpen:n.state.popoverOpen,mobileMenuOpen:!1})}}))},n.toggle=n.toggle.bind(Object(P.a)(Object(P.a)(n))),n.state={popoverOpen:!1,mobileMenuOpen:!1},n}return Object(d.a)(t,e),Object(g.a)(t,[{key:"toggle",value:function(){this.setState({popoverOpen:!this.state.popoverOpen,mobileMenuOpen:this.state.mobileMenuOpen})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:D.main},this.getPopoverButton(),this.getMobilePopoverButton(),this.getMobileMenu(),o.a.createElement(N.a,{className:"border border-success",placement:"bottom",style:D.popoverBody,isOpen:this.state.popoverOpen,target:"PopoverButton",toggle:this.toggle,hideArrow:!0},o.a.createElement(T.a,{style:D.header},this.Translation.t("SelectLanguage"),o.a.createElement("div",{className:"btnExit",style:D.exit,onClick:function(){return e.setState({popoverOpen:!1,mobileMenuOpen:e.state.mobileMenuOpen})}},"x")),o.a.createElement(_.a,{className:"PopoverBody"},this.getLanguageButtons())))}}]),t}(o.a.Component),z=k.Navbar;var F=function(e){return o.a.createElement("nav",{className:"bg-success",styles:z.main},o.a.createElement("div",{className:"navbar-brand",styles:z.title},o.a.createElement("h2",null,"Find my Movie")),o.a.createElement("div",{style:z.languageButton},o.a.createElement(U,{handleChangeLanguage:e.handleChangeLanguage,language:e.language,Translation:e.Translation})))},H=f.movieApi.urls.poster,W=k.MovieContainer,V=function(e){return o.a.createElement("tr",null,o.a.createElement("td",{colSpan:"2"},o.a.createElement("span",{style:W.value},e),o.a.createElement("br",null),o.a.createElement("br",null)))},q=function(e,t){return void 0!==t&&null!=t&&o.a.createElement("tr",null,o.a.createElement("td",{colSpan:"2"},o.a.createElement("span",null,o.a.createElement("a",{href:t},e))))},G=function(e,t){return o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("span",null,e)),o.a.createElement("td",null,o.a.createElement("span",{style:W.value}," ",t)))};var J=function(e){var t=e.movie,n=e.Translation,a=t.title,i=t.poster_path,r=t.overview,l=t.release_date,s=t.popularity,c=t.original_title,u=t.tagline,g=t.homepage,p=t.runtime,m=t.revenue,d=t.vote_average,h=t.vote_count,v=t.genres,b=t.production_companies,f=t.budget,y=void 0!==v&&v.map(function(e){return e.name}).join(", "),E=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2});return o.a.createElement("div",{style:W.main},o.a.createElement("div",null,o.a.createElement("h1",{style:W.title},a,o.a.createElement("br",null)),o.a.createElement("h3",{style:W.subTitle},u)),o.a.createElement("div",{className:"row"},o.a.createElement("img",{className:"img-fluid col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6",style:W.poster,src:null!=i?H+i:null,alt:"poster not loaded!"}),o.a.createElement("div",{className:"text-justify col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6",style:W.body},o.a.createElement("table",null,o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",{colSpan:"2"},o.a.createElement("span",null,"\u2003\u2003",null!==r&&void 0!==r?r:n.t("NoDescription")))),V(y),G(n.t("OriginalTitle"),c),G(n.t("ReleaseDate"),l),G(n.t("Popularity"),s),G(n.t("Runtime"),p+" min"),G(n.t("Budget"),E.format(f)),G(n.t("Revenue"),E.format(m)),G(n.t("Vote_average_count"),"".concat(d,"/").concat(h)),V(void 0!==b&&b.map(function(e){return void 0!==e.logo_path&&null!==e.logo_path?o.a.createElement("img",{key:e.id,style:W.productionImage,alt:e.name,src:H+e.logo_path,title:e.name}):o.a.createElement("div",{key:e.id,style:W.productionText,title:e.name},e.name)})),void 0!==g&&null!==g&&q("homepage",g))))))},K=k.Footer,$=function(e,t,n,a){return o.a.createElement("a",{style:K.bar,href:e,title:t,target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{style:K.image,src:n,alt:"_alt"}))};var Q=function(){return o.a.createElement("footer",{style:K.main},o.a.createElement("div",null,$(f.application.repositoryUrl,"GitHub repository",f.application.repositoryImage,"GitHub"),$(f.application.linkedInUrl,"LinkedIn",f.application.linkedInImage,"LinkedIn"),$("mailto:".concat(f.application.mailAddress),f.application.mailAddress,f.application.mailImage,"Mail"),$(f.application.movieDbUrl,"MovieDb",f.application.movieDbImage,"MovieDb")),o.a.createElement("div",{style:K.text},"@2019 Patryk Gawryszewski"))},X=k.App,Y=f.language.polish,Z=f.language.english,ee=f.movieApi.default,te=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(m.a)(t).call(this))).selectMovie=function(t){null!==t&&void 0!==t?e.getMovie(t.id,e.state.language):console.log("selectMovie error!"+t)},e.getMovie=function(){var t=Object(c.a)(s.a.mark(function t(n,a){var o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getMovie(n,a);case 2:o=t.sent,e.setMovie(o);case 4:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),e.setMovie=function(t){if(null!==t&&void 0!==t){var n=t,a=e.state.language;e.setState({movie:n,language:a})}else console.log("Error: Movies null or undefined!")},e.setLanguage=function(t){if(t===Y||t===Z){C.changeLanguage(t===Y?"polish":"english");var n=e.getMovie(e.state.movie.id,t),a=t;e.setState({movie:n,language:a})}else console.log("Error: Wrong language!")},e.state={language:ee.language,movie:{id:null,title:null,poster_path:null}},e.api=new O,e.getMovie(ee.movieId,ee.language),e}return Object(d.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:X.top},o.a.createElement(F,{handleChangeLanguage:this.setLanguage,language:this.state.language,Translation:C})),o.a.createElement("div",{className:"container container-fluid"},o.a.createElement(I,{handleOnChange:this.selectMovie,language:this.state.language,Translation:C}),o.a.createElement(J,{movie:this.state.movie,Translation:C})),o.a.createElement(Q,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[114,1,2]]]);
//# sourceMappingURL=main.04d39b36.chunk.js.map