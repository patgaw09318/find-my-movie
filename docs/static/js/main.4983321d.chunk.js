(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){},114:function(e,t,a){e.exports=a(261)},119:function(e,t,a){},261:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),i=a(23),r=a.n(i),l=(a(119),a(21)),s=a.n(l),c=a(41),u=a(17),g=a(24),m=a(26),p=a(25),h=a(27),d=(a(122),a(123),a(77)),v=a(75),b=a.n(v),f={language:{polish:"pl-PL",english:"en-US"},movieApi:{default:{movieId:"299534",language:"en-US"},urls:{searchMovie:"https://api.themoviedb.org/3/search/movie",getMovieUrl:"https://api.themoviedb.org/3/movie",poster:"https://image.tmdb.org/t/p/w500/"},authorization:{apiKey:"d0a661c7bf34b34b6c187d531c56b797"}},application:{repositoryUrl:"https://github.com/patgaw09318/find-my-movie",repositoryImage:"images/github-logo.png",linkedInUrl:"https://www.linkedin.com/in/patryk-gawryszewski1993/",linkedInImage:"images/linkedIn-logo.png",mailAddress:"patgaw09318@gmail.com",mailImage:"images/mail-logo.png",movieDbImage:"images/movieDb-logo.svg",movieDbUrl:"https://www.themoviedb.org/",closeIcon:"images/close-icon.png"}},y=f.movieApi.authorization.apiKey,E=f.movieApi.urls.searchMovie,w=f.movieApi.urls.getMovieUrl,O=function e(){Object(u.a)(this,e),this.searchMovie=function(){var e=Object(c.a)(s.a.mark(function e(t,a){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(E,{params:{api_key:y,include_adult:!0,page:1,language:a,query:t}});case 2:if(!(n=e.sent).error){e.next=6;break}return console.log(n.error),e.abrupt("return",null);case 6:return e.abrupt("return",n.data);case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),this.getMovie=function(){var e=Object(c.a)(s.a.mark(function e(t,a){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(w,"/").concat(t),{params:{api_key:y,language:a}});case 2:if(!(n=e.sent).error){e.next=6;break}return console.log(n.error),e.abrupt("return",null);case 6:return e.abrupt("return",n.data);case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},k={App:{top:{position:"fixed",width:"100%",top:"0em",zIndex:"10"}},Search:{SearchBar:{width:"50%",position:"center",marginLeft:"25%",marginTop:"10%"}},Navbar:{main:{width:"100%",padding:"1%"},languageButton:{float:"right",marginRight:"1em",marginTop:"0.5%"},title:{color:["#222",!0],padding:"2%"}},MovieContainer:{main:{margin:"3%",color:"white"},title:{color:"green"},subTitle:{padding:"1%",color:"grey"},poster:{height:"50%",width:"50%",borderRadius:"1.6em"},body:{padding:"1%"},value:{color:"#28a745"},productionImage:{width:"30%",display:"initial",padding:"1em"},productionText:{display:"inline",padding:"1em"}},PopoverButton:{main:{marginTop:".4em"},exit:{position:"top",color:["#fff",!0],fontWeight:["300",!0],float:"right"},header:{backgroundColor:"#28a745"},popoverButton:{width:"5em",backgroundColor:"#28a745",color:"#222"},popoverOpen:{backgroundColor:"#222",color:"#28a745"},btnEnglish:{borderColor:"#222",marginRight:"0.6em"},btnPolish:{borderColor:"#222"}},Footer:{main:{color:"white",width:"100%",textAlign:"center",fontSize:".8em"},image:{width:"2%",height:"2%"},bar:{display:"inline",width:"2%",height:"2%",margin:".8em"},text:{color:"grey"}}},j=a(78),C={english:{translation:{Popularity:"Popularity",OriginalTitle:"Original title",Polish:"Polish",English:"English",SelectLanguage:"Select language",ChooseMovie:"Choose a movie...",ReleaseDate:"Release date",Runtime:"Runtime",Revenue:"Revenue",Vote_average_count:"Vote/Count",Budget:"Budget",NoDescription:"No description"}},polish:{translation:{Popularity:"Popularno\u015b\u0107",OriginalTitle:"Tytu\u0142 orginalny",Polish:"Polski",English:"Angielski",SelectLanguage:"Wybierz j\u0119zyk",ChooseMovie:"Wybierz film...",ReleaseDate:"Data wydania",Runtime:"Czas trwania",Revenue:"Doch\xf3d",Vote_average_count:"Ocena/Liczba g\u0142os\xf3w",Budget:"Bud\u017cet",NoDescription:"Brak opisu"}}};j.a.init({lng:"english",resources:C});var S=j.a,T=Object(d.b)(d.a),B=k.Search,R=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this)))._handleSearch=function(t){e.setState({isLoading:!0}),e.makeAndHandleRequest(t)},e.makeAndHandleRequest=function(){var t=Object(c.a)(s.a.mark(function t(a){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.searchMovie(a,e.props.language);case 2:n=t.sent,e.setState({isLoading:!1,options:n.results.map(function(e){return e.title}),movies:n.results});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.state={allowNew:!1,isLoading:!1,multiple:!1,options:[],movies:[]},e.api=new O,e}return Object(h.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"search-main",style:B.SearchBar},o.a.createElement(T,{className:"searchBar",ref:"typeahead",isLoading:this.state.isLoading,id:"search",minLength:3,placeholder:S.t("ChooseMovie"),onSearch:this._handleSearch,options:this.state.options,onChange:function(t){var a=e.state.movies.find(function(e){return e.title===t[0]});e.props.handleOnChange(a)},useCache:!0})),o.a.createElement("img",{className:"imgExit mobileShow desktopHide",src:f.application.closeIcon,alt:"close button",onClick:function(){return e.refs.typeahead.getInstance().clear()}}))}}]),t}(n.Component),L=a(46),M=a(6),x=a(263),I=a(266),P=a(264),N=a(265),_=(a(103),k.PopoverButton),A=f.language.polish,D=f.language.english,U=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).Translation=a.props.Translation,a.getLanguageButtonStyle=function(e){return e===a.props.language?{backgroundColor:"#222",color:"white"}:{backgroundColor:"#28a745"}},a.getEnglishButton=function(){return o.a.createElement("button",{className:"btn btnEnglish",style:Object(L.a)({},a.getLanguageButtonStyle(D),_.btnEnglish),onClick:function(){return a.props.handleChangeLanguage(D)}},a.Translation.t("English"))},a.getPolishButton=function(){return o.a.createElement("button",{className:"btn btnPolish",style:Object(L.a)({},a.getLanguageButtonStyle(A),_.btnPolish),onClick:function(){return a.props.handleChangeLanguage(A)}},a.Translation.t("Polish"))},a.toggle=a.toggle.bind(Object(M.a)(Object(M.a)(a))),a.state={popoverOpen:!1},a}return Object(h.a)(t,e),Object(g.a)(t,[{key:"toggle",value:function(){this.setState({popoverOpen:!this.state.popoverOpen})}},{key:"render",value:function(){var e=this,t=this.props.language;return o.a.createElement("div",{style:_.main},o.a.createElement(x.a,{style:Object(L.a)({},_.popoverButton,this.state.popoverOpen&&_.popoverOpen),id:"PopoverButton",className:"PopoverButton mobileHide",type:"button"},t===D?this.Translation.t("English"):this.Translation.t("Polish")),o.a.createElement("div",{className:"mobileShow desktopHide"},this.getEnglishButton(),this.getPolishButton()),o.a.createElement(I.a,{className:"border border-success",placement:"bottom",isOpen:this.state.popoverOpen,target:"PopoverButton",toggle:this.toggle,hideArrow:!0},o.a.createElement(P.a,{style:_.header},this.Translation.t("SelectLanguage"),o.a.createElement("div",{className:"btnExit",style:_.exit,onClick:function(){return e.setState({popoverOpen:!1})}},"x")),o.a.createElement(N.a,{className:"PopoverBody"},this.getEnglishButton(),this.getPolishButton())))}}]),t}(o.a.Component),z=k.Navbar,F=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(h.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement("nav",{className:"bg-success",styles:z.main},o.a.createElement("div",{className:"navbar-brand",styles:z.title},o.a.createElement("h2",null,"Find my Movie")),o.a.createElement("div",{style:z.languageButton},o.a.createElement(U,{handleChangeLanguage:this.props.handleChangeLanguage,language:this.props.language,Translation:this.props.Translation})))}}]),t}(n.Component),H=f.movieApi.urls.poster,W=k.MovieContainer,V=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).getLinkRow=function(e,t){return void 0!==t&&null!=t&&o.a.createElement("tr",null,o.a.createElement("td",{colSpan:"2"},o.a.createElement("span",null,o.a.createElement("a",{href:t},e))))},a.addTableRow=function(e,t){return o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("span",null,e)),o.a.createElement("td",null,o.a.createElement("span",{style:W.value}," ",t)))},a.addSingleColumnRow=function(e){return o.a.createElement("tr",null,o.a.createElement("td",{colSpan:"2"},o.a.createElement("span",{style:W.value},e),o.a.createElement("br",null),o.a.createElement("br",null)))},a}return Object(h.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.movie,a=e.Translation,n=t.title,i=t.poster_path,r=t.overview,l=t.release_date,s=t.popularity,c=t.original_title,u=t.tagline,g=t.homepage,m=t.runtime,p=t.revenue,h=t.vote_average,d=t.vote_count,v=t.genres,b=t.production_companies,f=t.budget,y=void 0!==v&&v.map(function(e){return e.name}).join(", "),E=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2});return o.a.createElement("div",{style:W.main},o.a.createElement("div",null,o.a.createElement("h1",{style:W.title},n,o.a.createElement("br",null)),o.a.createElement("h3",{style:W.subTitle},u)),o.a.createElement("div",{className:"row"},o.a.createElement("img",{className:"img-fluid col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6",style:W.poster,src:null!=i?H+i:null,alt:"poster not loaded!"}),o.a.createElement("div",{className:"text-justify col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6",style:W.body},o.a.createElement("table",null,o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",{colSpan:"2"},o.a.createElement("span",null,"\u2003\u2003",null!==r&&void 0!==r?r:a.t("NoDescription")))),this.addSingleColumnRow(y),this.addTableRow(a.t("OriginalTitle"),c),this.addTableRow(a.t("ReleaseDate"),l),this.addTableRow(a.t("Popularity"),s),this.addTableRow(a.t("Runtime"),m+" min"),this.addTableRow(a.t("Budget"),E.format(f)),this.addTableRow(a.t("Revenue"),E.format(p)),this.addTableRow(a.t("Vote_average_count"),"".concat(h,"/").concat(d)),this.addSingleColumnRow(void 0!==b&&b.map(function(e){return void 0!==e.logo_path&&null!==e.logo_path?o.a.createElement("img",{key:e.id,style:W.productionImage,alt:e.name,src:H+e.logo_path,title:e.name}):o.a.createElement("div",{key:e.id,style:W.productionText,title:e.name},e.name)})),void 0!==g&&null!==g&&this.getLinkRow("homepage",g))))))}}]),t}(n.Component),q=k.Footer;var G=function(){return o.a.createElement("footer",{style:q.main},o.a.createElement("div",null,o.a.createElement("a",{style:q.bar,href:f.application.repositoryUrl,title:"GitHub repository"},o.a.createElement("img",{style:q.image,src:f.application.repositoryImage,alt:"GitHub"})),o.a.createElement("a",{style:q.bar,href:f.application.linkedInUrl,title:"LinkedIn"},o.a.createElement("img",{style:q.image,src:f.application.linkedInImage,alt:"LinkedIn"})),o.a.createElement("div",{style:q.bar,title:f.application.mailAddress},o.a.createElement("img",{style:q.image,src:f.application.mailImage,alt:"Mail"})),o.a.createElement("a",{style:q.bar,href:f.application.movieDbUrl,title:"MovieDb"},o.a.createElement("img",{style:q.image,src:f.application.movieDbImage,alt:"MovieDb"}))),o.a.createElement("div",{style:q.text},"@2019 Patryk Gawryszewski"))},J=k.App,K=f.language.polish,$=f.language.english,Q=f.movieApi.default,X=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).selectMovie=function(t){null!==t&&void 0!==t?e.getMovie(t.id,e.state.language):console.log("selectMovie error!"+t)},e.getMovie=function(){var t=Object(c.a)(s.a.mark(function t(a,n){var o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getMovie(a,n);case 2:o=t.sent,e.setMovie(o);case 4:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),e.setMovie=function(t){if(null!==t&&void 0!==t){var a=t,n=e.state.language;e.setState({movie:a,language:n})}else console.log("Error: Movies null or undefined!")},e.setLanguage=function(t){if(t===K||t===$){S.changeLanguage(t===K?"polish":"english");var a=e.getMovie(e.state.movie.id,t),n=t;e.setState({movie:a,language:n})}else console.log("Error: Wrong language!")},e.state={language:Q.language,movie:{id:null,title:null,poster_path:null}},e.api=new O,e.getMovie(Q.movieId,Q.language),e}return Object(h.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:J.top},o.a.createElement(F,{handleChangeLanguage:this.setLanguage,language:this.state.language,Translation:S})),o.a.createElement("div",{className:"container container-fluid"},o.a.createElement(R,{handleOnChange:this.selectMovie,language:this.state.language,Translation:S}),o.a.createElement(V,{movie:this.state.movie,Translation:S})),o.a.createElement(G,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[114,1,2]]]);
//# sourceMappingURL=main.4983321d.chunk.js.map